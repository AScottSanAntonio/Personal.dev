<!DOCTYPE html>
    <html>
        <head>
            
        </head>
        <body>

        <form class="calcForm" name="calculator">
        	
        	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
            <input type="text" class="calcDisplay" id="display" />
            <div class="calcRow">
                <input type="button" class="calcButton" value="7" onclick="numInput('7')" />
                <input type="button" class="calcButton" value="8" onclick="numInput('8')" />
                <input type="button" class="calcButton" value="9" onclick="numInput('9')" />
                <input type="button" class="calcButton" id = "addition" value="+" onclick="setOperation('add')" />
            </div>
            <div class="calcRow">
                <input type="button" class="calcButton" value="4" onclick="numInput('4')" />
                <input type="button" class="calcButton" value="5" onclick="numInput('5')" />
                <input type="button" class="calcButton" value="6" onclick="numInput('6')" />
                <input type="button" class="calcButton" id = "subtraction" value="-" onclick="setOperation('subtract')" />
            </div>
            <div class="calcRow">
                <input type="button" class="calcButton" value="1" onclick="numInput('1')" />
                <input type="button" class="calcButton" value="2" onclick="numInput('2')" />
                <input type="button" class="calcButton" value="3" onclick="numInput('3')" />
                <input type="button" class="calcButton" id ="decimal" value="." onclick="insertDecimal('.')" />
               <input type="button" class="calcButton" id = "divide" value="/" onclick="setOperation('divide')" />
            </div>
            <div class="calcRow">
                <input type="button" class="calcButton" id ="zero" value="0" onclick="numInput('0')" />
                 <input type="button" class="calcButton" id = "multiply" value="x" onclick="setOperation('multiply')" />
                <input type="button" class="calcButton" id ="clear" value="C" onclick="clearDisplay()" />
                <input type="button" class="calcButton" id ="equals" value="=" onclick="calculate()" />
                <link rel="stylesheet" href="css/calc.css">
                <div id = "mainpage">
        <a href="index.html">Main Page</a><br>
        </div>
                <script>
                  displayNum = "";
    				storedNum = "";
    					operation = 0;
    						queuedOperation = 0;
    							calculationFinished = false;

				function clearDisplay() {
    				var display = document.getElementById("display");
    					displayNum = "";
    						storedNum = "";
    							operation = 0;
    								queuedOperation = 0;        
    									display.value = displayNum;

				}

				function numInput(num) {
    				var display = document.getElementById("display");
					if ((display.value == "") && num == "0") {
    				return;
    			}
    			else if (calculationFinished == true) {
        			display.value = num;
        				calculationFinished = false;
    			}	else {
      					display.value += num;
    				}
				}

				function insertDecimal(dec) {
   					var display = document.getElementById("display");
						for (i = 0; i < display.value.length; i++)
        					if (display.value.charAt(i) == '.') {
            					return;
        					}
    							display.value += dec;
							}

				function setOperation(command) {
  					var display = document.getElementById("display"),
            			displayNum = display.value;
    						evalDisplay = eval(displayNum),
            					evalStored = eval(storedNum);
									if (queuedOperation == 0) {
        							storedNum = display.value;
    								}	else if (queuedOperation == 1) {
        								storedNum = evalStored + evalDisplay;
    								}	else if (queuedOperation == 2) {
    								    storedNum = evalStored - evalDisplay;
    								}	else if (queuedOperation == 3) {
    								    storedNum = evalStored * evalDisplay;
    								}	else if (queuedOperation == 4) {
    									storedNum = evalStored / evalDisplay;
    								}
									if (command == 'add') {
        							operation = 1;
    								}	else if (command == 'subtract') {
    								    operation = 2;
    								}
    									if (command == 'multiply') {
    								    operation = 3;
    								}	else if (command == 'divide'){
    									operation = 4;
    								}
									queuedOperation = operation;
    								display.value = '';
									}

				function calculate() {
    				var display = document.getElementById("display");
            			displayNum = display.value;
    				var evalDisplay = eval(displayNum),
            			evalStored = eval(storedNum);
							if (operation == 1) {
        						displayNum = evalStored + evalDisplay;
    						
    						}	else if (operation == 2) {
        							displayNum = evalStored - evalDisplay;
    					
    						}	else if (operation == 3) {
        						displayNum = evalStored * evalDisplay;
   
   							}	else if (operation == 4) {
   								displayNum = evalStored / evalDisplay;
   							}	
   							 	display.value = displayNum;
    						if (operation != 0)
        						calculationFinished = true;
    								operation = 0;
    								queuedOperation = 0;
    								displayNum = "";
    								storedNum = "";
    						}
				</script>
            </div>
        </form>
    </body>
</html>
		


